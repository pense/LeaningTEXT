<!DOCTYPE html>
<html lang="ja">
		<head>
				<meta charset="UTF-8">
				<title>javaScriptの練習</title>
		</head>
		<body>
				<h1>JavaScriptの練習</h1>
				<!-- <script src="myscript.js"></script> -->
				<p>僕の名前は<span id="myName">@pense</span>です！</p>
				<p>価格:<input type="text" id="price">円</p>
				<p><input type="button" value="クリック！" id="myButton"></p>
				<p><input type="button" value="クリックしてね！" onclick="sayHi();"></p>
				<script>
						// 変数を使う
					var message;
					message = "Hello World, Again!";
					alert(message);

					// 変数名の付け方
					// １文字目は 英字 $ _
					// ２文字目以降は　英数字 $ _
					// 予約語は使えない

					var myName;
					var $myName;
					var _myName;

					// 1myName これは使えない

					var myName; // キャメルケース
					var MyName; // パスカル記法
					var my_name; // アンダーバー記法

					// データ型
					var d1 = -5.5; // 数値
					var d2 = false; // 真偽
					var d3 = undefined; // 定義されていない
					var d4 = null; // 何もない

					// 演算子
					// 代入演算子 =
					var x = 5;
					// 文字列に関する演算子 +
					var s = "Hello" + "World";
					// 数値に関する演算子 + - * / %
					var x = 5 / 5;
					var x = 5 % 5; //余り

					var x = 1;
					x++; // x = x + 1
					x--; // x = x - 1
					++x;
					--x;
					// 先に演算子が来る場合と後に来る場合の違いは、
					// 変数に値を代入する際、演算して渡すのか、演算前に渡すのかの違い。
					x += 5; // x = x +5

					// 条件分岐 (if)
					var score = 20;
					if (score >= 70) { // 比較演算子 >= <= < > == !=
							alert("合格！");
							} else if (score >= 30) {
							alert("不合格！");
							} else {
							alert("不合格だしお話になりません！");
					}

					// 厳密な比較演算子 === !==
					// 値だけでなく、型の比較も行う（文字列の５と数字の５の比較など）

					// 論理演算子 AND(&&) OR(||) NOT(!)

					// 三項演算子
					// （条件） ? 真だった場合の値 : 偽だった場合の値
					var sex ='男性';
					price = (sex == '男性') ? 5000 : 3000;
					// これをif文で書くと以下になる
					/*
					if (sex == '男性') {
							price = 5000;
							} else {
							price = 3000;
					}
					*/

					console.log(price);

					// 条件分岐 (switch)
					var direction = "right";
					switch (direction) {
							case "right":
							x = x + 10;
							break;
							case "left":
							x = x - 10;
							break;
							case "up":
							y = y - 10;
							break;
							case "down":
							y += 10;
							break;
							default:
							// 例外処理
							break;
					}

					// 同じ処理になる条件をまとめて書くことも可
					var x = 0;
					switch (x) {
							case 0:
							case 1:
							//
							break;
							default:
							//
							break;
					}

					// true / false 真偽

					// 文字列：空文字だとfalse
					// 数値：0かNaNだとfalse
					// undefined = false
					// null = false
					// true/false = そのまま
					// object/配列 = true （空配列でもtrue）


					// ループ (while)
					var i = 0;
					while (i < 10) {
							console.log(i);
							i++;
					}

					// ループ(do while)
					do {
							//
					} while (i < 10);
					// 条件の合否に関わらず1度処理がされ、その後条件判定によって処理が実行される

					// ループ　(for)
					for (var i =0; i < 10; i++) {
							console.log(i);
					}

					// ループ(for/while/do..while) break
					var i = 0;
					while (i < 10) {
							i++;
							console.log(i);
							if (i == 5) {
									break;
							}
					}

					// ループ(for/while/do..while) continue 処理をスキップする
					var i = 0;
					while (i < 10) {
							i++;
							if (i == 5) {
									continue;
							}
							console.log(i);
					}

					// confirm ユーザに確認する
					// ok→true cancel→false
					if (confirm("削除しますか？")) {
							alert("削除します");
							} else {
							alert("削除をやめます！");
					}

					// prompt ユーザに入力を求める
					var name =prompt("あなたのお名前は？", "name");
					alert('あなたのお名前は' + name + 'ですね！');


					// 関数　（複数の処理をまとめられる）
					function sum(a,b) { // aとbは「引数」
							return (a + b);
					}

					var result = sum(50, 33);
					alert(result);

					// 即時関数 ()で囲むことで宣言と呼び出しを同時に実行できる
					(function helloWorld() {
							console.log("hello world");
					})();

					// 無名関数 関数名を省略できる
					(function() {
							console.log("foo bar");
					})();

					// ローカル変数
					function getPrice(x) {
							var rate = 0.82; // ローカル変数（関数の外から使えない）
							return (x * rate);
					}

					console.log(getPrice(83));
					// console.log(rate); // ローカル変数を使ってみようとしてもエラーになる

					// 配列　グループ化されたデータ
					var sales0 = 100;
					var salse1 = 200;
					var salse2 = 300;

					// 配列を一度に記載
					var sales = [100,200,150];

					console.log(sales[1]);

					// 連想配列 添字にラベル（文字列）を使うことができる
					var sales = {'year2000':100, 'year2001':200, 'year2002':150}

					console.log(sales['year2002']);

					// JavaScriptオブジェクト
					// 日付、数値、文字列
					var s = new String("this is a pen.");
					console.log(s.length); // プロパティ（属性）
					console.log(s.substr(2,2));
					console.log(s.replace("pen","pencil"));

					var d = new Date();
					console.log(d.getFullYear()); // メソッド（処理）

					// JavaScriptオブジェクト　(Array)
					// var a = new Array(12, 33, 44, 55);
					var a = [12, 33, 44, 55];

					console.log(a.join("|"));
					console.log(a.reverse());

					// JavaScriptオブジェクト (Date)
					var d = new Date(2012, 4, 22, 7, 44, 5); // 月：0〜11
					console.log(d.getMonth());
					console.log(d.getTime());

					// JavaScriptオブジェクト (Math)
					// var m = new Math();
					// プロパティ
					console.log(Math.PI);
					console.log(Math.SQRT2);

					// メソッド
					var x = 5.238;
					console.log(Math.floor(x));
					console.log(Math.ceil(x));
					console.log(Math.round(x));

					console.log(Math.random());

					// 乱数
					// Math.random()
					// 0から9までの整数値
					var x = Math.floor(Math.random() * 10);
					console.log(x);

					// 0からnまでの整数値
					var x = Math.floor(Math.random() * (n+1));
					console.log(x);

					// 1から6まで
					var y = Math.floor(Math.random() * 6) + 1;
					console.log(y);

					// JavaScriptオブジェクト (Browser) - Browser Object Model (BOM)
					console.log(window.innerHeight);
					// window.location.href = "http://google.com"; // 指定したURLへ移動

					// 文書(Document) - Document Object Model (DOM)
					console.log(document.width);
					document.body.bgColor = 'red';

					// idを指定して値を操作
					var e = document.getElementById('myName');
					e.innerHTML = 'パンセ';

					var n = document.getElementById('price');
					n.value = 500;

					// DOM - Event
					var e = document.getElementById('myButton');
					e.onclick = function () {
							alert("クリックされました");
					}

					// タイマー処理
					// setTimeout: 一定時間後に何かする。
					// 前回の処理が終わったかを考慮する→ずれる可能性があるがクラッシュしない。
					setTimeout(function () {
							console.log("２秒たちました！");
					}, 2000);

					// setInterval: 一定時間ごとに何かする。
					// 前回の処理が終わったか考慮しないため、
					// 処理が設定した時間以上にかかるとクラッシュする可能性がある。
					/*
					var i = 0;
					setInterval(function() {
							console.log(++i);
					},1000);

					// タイマーを止める clearInterval, clearTimeout
					var i = 0;
					var timeId = setInterval(function() {
							console.log(++i);
							if (i >= 5) {
									clearInterval(timeId);
							}
					},1000);
					*/

					// クラッシュしないようにsetTimeoutを使って一定時間ごとに処理する
					var i = 0;
					function plusOne() {
							console.log(++i);
							var timeId = setTimeout(plusOne, 1000);
							if ( i >= 6 ) {
									clearTimeout(timeId);
							}
					}
					plusOne();

					// イベントと関数の紐付け
					function sayHi() {
					console.log('hi!');
					}

					// オブジェクトをしらべるとき、MDNでしらべると日本語表示も可能

				</script>
		</body>

</html>

